<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WorldConquest.io - Style OpenFront</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Ã‰cran de menu -->
  <div id="menuScreen" class="screen active">
    <div class="menu-container">
      <h1 class="game-title">ğŸŒ WorldConquest.io</h1>
      <p class="game-subtitle">ConquÃ©rez l'Europe avec vos amis</p>
      
      <div class="menu-form">
        <input type="text" id="playerName" placeholder="Votre pseudo" maxlength="20">
        
        <div class="button-group">
          <button id="createRoomBtn" class="btn btn-primary">CrÃ©er une partie</button>
          <button id="joinRoomBtn" class="btn btn-secondary">Rejoindre une partie</button>
        </div>

        <div id="joinRoomForm" class="hidden">
          <input type="text" id="roomCode" placeholder="Code de la room" maxlength="6">
          <button id="confirmJoinBtn" class="btn btn-primary">Rejoindre</button>
        </div>
      </div>

      <div class="info-section">
        <h3>ğŸ“œ Comment jouer ?</h3>
        <ul>
          <li>ğŸ¯ Placez votre base de dÃ©part sur la carte</li>
          <li>âš”ï¸ Ã‰tendez votre territoire cellule par cellule</li>
          <li>ğŸ’° Gagnez de l'or avec vos territoires</li>
          <li>ğŸ¤ Attaquez les territoires ennemis adjacents</li>
          <li>ğŸ‘‘ ConquÃ©rez 80% de la carte pour gagner !</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Ã‰cran de lobby -->
  <div id="lobbyScreen" class="screen">
    <div class="lobby-container">
      <h2>ğŸ® Salle d'attente</h2>
      
      <div class="room-info">
        <div class="room-code-display">
          <span>Code de la room :</span>
          <strong id="displayRoomCode"></strong>
          <button id="copyCodeBtn" class="btn-icon" title="Copier">ğŸ“‹</button>
        </div>
      </div>

      <div class="players-section">
        <h3>Joueurs (ğŸ‘¤ <span id="playerCount">0</span>)</h3>
        <div id="playersList" class="players-list"></div>
      </div>

      <div class="lobby-actions">
        <button id="startGameBtn" class="btn btn-primary btn-large">DÃ©marrer la partie</button>
        <button id="leaveLobbyBtn" class="btn btn-secondary">Quitter</button>
      </div>
    </div>
  </div>

  <!-- Ã‰cran de placement -->
  <div id="placementScreen" class="screen">
    <div class="placement-overlay">
      <div class="placement-info">
        <h2>ğŸ¯ Placez votre base</h2>
        <p>Cliquez sur une zone verte pour placer votre point de dÃ©part</p>
        <p class="placement-warning">âš ï¸ Choisissez stratÃ©giquement, vous ne pourrez pas changer !</p>
        <div class="placement-stats">
          <p>Joueurs prÃªts: <strong><span id="playersPlaced">0</span> / <span id="totalPlayers">0</span></strong></p>
        </div>
      </div>
    </div>
    
    <!-- Canvas pour la phase de placement -->
    <canvas id="placementCanvas"></canvas>
  </div>

  <!-- Ã‰cran de jeu -->
  <div id="gameScreen" class="screen">
    <!-- HUD supÃ©rieur -->
    <div class="game-hud">
      <div class="hud-left">
        <div class="player-info">
          <span class="player-name" id="hudPlayerName"></span>
          <span class="player-color" id="hudPlayerColor"></span>
        </div>
        <div class="resource-display">
          <span class="resource">ğŸ’° Or: <strong id="hudGold">0</strong></span>
          <span class="resource">ğŸ“ˆ Revenu: <strong id="hudIncome">0</strong>/s</span>
          <span class="resource">ğŸ  Cellules: <strong id="hudCells">0</strong></span>
          <span class="resource">âš”ï¸ Troupes: <strong id="hudTroops">0</strong></span>
        </div>
      </div>
      
      <div class="hud-right">
        <button id="centerBaseBtn" class="btn btn-small">ğŸ¯ Centrer</button>
        <button id="statsBtn" class="btn btn-small">ğŸ“Š Stats</button>
        <button id="leaveGameBtn" class="btn btn-small btn-danger">Quitter</button>
      </div>
    </div>

    <!-- Canvas de jeu -->
    <canvas id="gameCanvas"></canvas>

    <!-- Panneau d'information de la cellule -->
    <div id="cellPanel" class="territory-panel hidden">
      <h3 id="cellInfo">Cellule</h3>
      <div class="territory-stats">
        <p>ğŸ‘¤ PropriÃ©taire: <span id="cellOwner">-</span></p>
        <p>âš”ï¸ Troupes: <span id="cellTroops">0</span></p>
        <p>ğŸ“ Position: <span id="cellPosition">-</span></p>
      </div>
      
      <div class="territory-actions">
        <div class="action-group">
          <button id="expandBtn" class="btn btn-primary">â• ConquÃ©rir (50ğŸ’°)</button>
        </div>

        <div class="action-group">
          <label>Renforcer cette cellule</label>
          <div class="input-group">
            <input type="number" id="reinforceCount" min="1" value="10">
            <button id="reinforceBtn" class="btn btn-secondary">ğŸ›¡ï¸ Renforcer</button>
          </div>
        </div>
      </div>

      <div class="cell-help">
        <p><strong>ğŸ’¡ Conseils :</strong></p>
        <p>â€¢ Clic gauche : SÃ©lectionner une cellule</p>
        <p>â€¢ Clic droit + drag : DÃ©placer la carte</p>
        <p>â€¢ Molette : Zoomer/DÃ©zoomer</p>
      </div>
    </div>

    <!-- Modal de stats -->
    <div id="statsModal" class="modal hidden">
      <div class="modal-content">
        <span class="close-modal">&times;</span>
        <h2>ğŸ“Š Statistiques de la partie</h2>
        <div id="statsContent"></div>
      </div>
    </div>
  </div>

  <!-- Messages de notification -->
  <div id="notifications" class="notifications-container"></div>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.min.js"></script>
  <script src="js/network.js"></script>
  <script src="js/mapRenderer.js"></script>
  <script src="js/placement.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/game.js"></script>
  <script src="js/main.js"></script>
</body>
</html>