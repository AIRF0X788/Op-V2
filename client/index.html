<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WorldConquest.io - OpenFront Style</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- Écran de menu -->
  <div id="menuScreen" class="screen active">
    <div class="menu-container">
      <h1 class="game-title">⚔️ WorldConquest</h1>
      <p class="game-subtitle">Tactical Territory Conquest</p>
      
      <div class="menu-form">
        <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
        
        <div class="button-group">
          <button id="createRoomBtn" class="btn btn-primary">Create Room</button>
          <button id="joinRoomBtn" class="btn btn-secondary">Join Room</button>
        </div>

        <div id="joinRoomForm" class="hidden">
          <input type="text" id="roomCode" placeholder="Room Code" maxlength="6">
          <button id="confirmJoinBtn" class="btn btn-primary">Join</button>
        </div>
      </div>

      <div class="info-section">
        <h3>📖 How to Play</h3>
        <ul>
          <li>🎯 Click to place your capital</li>
          <li>⚔️ Click adjacent cells to expand (costs troops)</li>
          <li>🏗️ Build cities, ports, outposts</li>
          <li>💰 Manage economy and military</li>
          <li>👑 Conquer 80% of the map to win!</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Écran de lobby -->
  <div id="lobbyScreen" class="screen">
    <div class="lobby-container">
      <h2>🎮 Game Lobby</h2>
      
      <div class="room-code-display">
        <span>Room Code:</span>
        <strong id="displayRoomCode"></strong>
        <button id="copyCodeBtn" class="btn-icon" title="Copy">📋</button>
      </div>

      <div class="players-section">
        <h3>Players (<span id="playerCount">0</span>)</h3>
        <div id="playersList"></div>
      </div>

      <div class="lobby-actions">
        <button id="startGameBtn" class="btn btn-success">Start Game</button>
        <button id="leaveLobbyBtn" class="btn btn-secondary">Leave</button>
      </div>
    </div>
  </div>

  <!-- Écran de placement -->
  <div id="placementScreen" class="screen">
    <div class="placement-overlay">
      <div class="placement-info">
        <h2>🎯 Place Your Capital</h2>
        <p>Click on a green cell to place your starting position</p>
        <p class="placement-warning">⚠️ Choose strategically - you cannot change this!</p>
        <div class="placement-stats">
          <p>Players Ready: <strong><span id="playersPlaced">0</span> / <span id="totalPlayers">0</span></strong></p>
        </div>
      </div>
    </div>
    <canvas id="placementCanvas"></canvas>
  </div>

  <!-- Écran de jeu -->
  <div id="gameScreen" class="screen">
    <!-- HUD supérieur minimaliste -->
    <div class="game-hud">
      <div class="player-info">
        <span class="player-color" id="hudPlayerColor"></span>
        <span class="player-name" id="hudPlayerName"></span>
      </div>
      <div class="resource-display">
        <span class="resource">💰 <strong id="hudGold">0</strong></span>
        <span class="resource">📈 <strong id="hudIncome">0</strong>/s</span>
        <span class="resource">⚔️ <strong id="hudTroops">0</strong></span>
        <span class="resource">🏠 <strong id="hudCells">0</strong></span>
      </div>
    </div>

    <!-- Canvas de jeu -->
    <canvas id="gameCanvas"></canvas>

    <!-- Menu radial (OpenFront style) -->
    <div id="radialMenu" class="radial-menu hidden">
      <div class="radial-center" id="radialCenter">📍</div>
      <!-- Les items seront ajoutés dynamiquement en JavaScript -->
    </div>

    <!-- Minimap -->
    <div class="minimap-container">
      <canvas id="minimapCanvas"></canvas>
    </div>

    <!-- Boutons de contrôle -->
    <div class="control-buttons">
      <div class="control-btn" id="centerBaseBtn" title="Center on base">🎯</div>
      <div class="control-btn" id="leaveGameBtn" title="Leave game">🚪</div>
    </div>

    <!-- Cell Tooltip -->
    <div id="cellTooltip" class="cell-tooltip hidden"></div>
  </div>

  <!-- Notifications -->
  <div id="notifications" class="notifications"></div>

  <!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.4/socket.io.min.js"></script>
<script src="js/network.js"></script>
<script src="js/mapRenderer.js"></script>
<script src="js/placement.js"></script>
<script src="js/radialMenu.js"></script>
<script src="js/allianceSystem.js"></script>
<script src="js/ui.js"></script>
<script src="js/game.js"></script>
<script src="js/main.js"></script>
</body>
</html>